(function(){!function($){var t,o,e,r,n,i;return o=function(){function o(o){this.arrPlayers=[],this.objElement=o.addClass("board"),this.objBall=new t,this.objElement.append(this.objBall.objElement),this.strColor="#000000",this.objElement.css("background-color",this.strColor)}return o.objElement=null,o.arrPlayers=null,o.objBall=null,o.objScoreBoard=null,o.strColor=null,o.prototype.addPlayer=function(t){return this.arrPlayers.push(t),null!=t.objPaddle.objElement?this.objElement.append(t.objPaddle.objElement):void 0},o.prototype.addScoreBoard=function(t){var o,e,r,n;for(this.objScoreBoard=t,n=this.arrPlayers,e=0,r=n.length;r>e;e++)o=n[e],this.objScoreBoard.objElement.append($('<div class="score"></div>').attr("data-player-id",o.intId)),this.objScoreBoard.objPlayerScores[o.intId]={intId:o.intId,intScore:0};return this.objElement.append(t.objElement),this.objScoreBoard.resetScoreBoard()},o.prototype.startGame=function(){var t,o,e,r;for(this.objBall.resetBall(),r=this.arrPlayers,o=0,e=r.length;e>o;o++)t=r[o],t.objPaddle.resetPaddle();return $(document).keydown(function(o){return function(e){var r,n,i,l,s,a;for(r=e.keyCode,n=50,s=o.arrPlayers,a=[],i=0,l=s.length;l>i;i++)t=s[i],r===parseInt(t.objPaddle.objControls.down)&&t.objPaddle.movePaddle(n),a.push(r===parseInt(t.objPaddle.objControls.up)?t.objPaddle.movePaddle(-1*n):void 0);return a}}(this)),this.objBall.startMoving()},o}(),t=function(){function t(){this.strColor="#ffffff",this.intXModifier=1,this.intYModifier=1,this.objElement=$('<div class="ball"></div>').css("background-color",this.strColor)}return t.objElement=null,t.strColor=null,t.intXModifier=null,t.intYModifier=null,t.evtMoveBall=null,t.prototype.resetBall=function(){return this.objElement.css("top",i.objBoard.objElement.height()/2-this.objElement.height()/2).css("left",i.objBoard.objElement.width()/2-this.objElement.width()/2),this.intXModifier=1===this.intXModifier?-1:1},t.prototype.startMoving=function(){return this.resetBall(),this.getRandomNumber(2,15,function(t){return function(o){return t.getRandomNumber(2,10,function(t){return i.objBoard.objBall.evtMoveBall=setInterval(function(){return i.objBoard.objBall.moveBall(o,t)},10)})}}(this))},t.prototype.moveBall=function(t,o){return this.animateBall(t,o)},t.prototype.animateBall=function(t,o){var e,r,n,l,s,a,d,h,b,j,u,c,m,f,p,P,g,B;if(a=this.objElement.position(),a.right=this.objElement.width()+a.left,a.bottom=this.objElement.height()+a.top,n=i.objBoard.objElement.position(),n.right=i.objBoard.objElement.width()+n.left,n.bottom=i.objBoard.objElement.height()+n.top,n.left>a.left||a.right>n.right){for(p=i.objBoard.arrPlayers,d=0,u=p.length;u>d;d++)s=p[d],s.objPaddle.growPaddle(10);this.intXModifier=1===this.intXModifier?-1:1}for((n.top>a.top||a.bottom>n.bottom)&&(this.intYModifier=1===this.intYModifier?-1:1),P=i.objBoard.arrPlayers,h=0,c=P.length;c>h;h++)if(s=P[h],l=s.objPaddle.objElement.position(),l.bottom=s.objPaddle.objElement.height()+l.top,l.right=s.objPaddle.objElement.width()+l.left,l.top<a.top&&l.bottom>a.bottom){if("left"===s.strPosition&&a.left<=l.right){for(console.log("Point "+s.strName),i.objBoard.objScoreBoard.addPoint(s.intId),this.stopBall(),g=i.objBoard.arrPlayers,b=0,m=g.length;m>b;b++)s=g[b],s.objPaddle.resetPaddle();break}if("right"===s.strPosition&&a.right>=l.left){for(console.log("Point "+s.strName),i.objBoard.objScoreBoard.addPoint(s.intId),this.stopBall(),B=i.objBoard.arrPlayers,j=0,f=B.length;f>j;j++)s=B[j],s.objPaddle.resetPaddle();break}}return r=a.top+parseFloat(o)*this.intYModifier,e=a.left+parseFloat(t)*this.intXModifier,this.objElement.css("top",r+"px").css("left",e+"px")},t.prototype.stopBall=function(){return clearInterval(this.evtMoveBall),setTimeout(function(){return i.objBoard.objBall.startMoving()},3e3)},t.prototype.getRandomNumber=function(t,o,e){var r;return r=Math.random()*(o-t)+t,null!=e?e(r):void 0},t}(),e=function(){function t(t){this.fltHeight=50,null!=t.fltHeight&&(this.fltHeight=t.fltHeight),null!=t.strPosition&&(this.strPosition=t.strPosition),this.objElement=$('<div class="paddle"></div>').css("height",this.fltHeight).css("top",0),"left"===this.strPosition?(this.objElement.css("left",0),this.objControls={up:"87",down:"83"}):(this.objElement.css("right",0),this.objControls={up:"38",down:"40"}),this.arrEvents={evtUp:null,evtDown:null}}return t.objElement=null,t.fltHeight=null,t.strPosition=null,t.objLocation=null,t.objControls=null,t.evtControl=null,t.prototype.resetPaddle=function(){return this.objElement.css("height",this.fltHeight).css("top",i.objBoard.objElement.height()/2-this.objElement.height()/2)},t.prototype.movePaddle=function(t){var o,e;return e=this.objElement.position(),e.bottom=this.objElement.height()+e.top,o=i.objBoard.objElement.position(),o.bottom=i.objBoard.objElement.height()+o.top,0>t&&e.top<=o.top?!1:t>0&&e.bottom>=o.bottom?!1:this.objElement.css("top",e.top+t)},t.prototype.growPaddle=function(t){var o,e,r;return r=this.objElement.position(),r.bottom=this.objElement.height()+r.top,e=i.objBoard.objElement.position(),e.bottom=i.objBoard.objElement.height()+e.top,o=t/2,r.top<=e.top?(this.objElement.css("height",this.objElement.height()+t),!1):t>0&&r.bottom>=e.bottom?(this.objElement.css("top",r.top-t).css("height",this.objElement.height()+t),!1):this.objElement.css("top",r.top-o).css("height",this.objElement.height()+t)},t}(),r=function(){function t(t){this.strColor="#ffffff",null!=t.intId&&(this.intId=t.intId),null!=t.strName&&(this.strName=t.strName),null!=t.strColor&&(this.strColor=t.strColor),null!=t.strPosition&&(this.strPosition=t.strPosition),this.objPaddle=new e({strPosition:this.strPosition}),null!=this.intId&&this.objPaddle.objElement.attr("data-player-id",this.intId),this.objPaddle.objElement.css("background-color",this.strColor)}return t.intId=null,t.strName=null,t.strColor=null,t.strPosition=null,t.objPaddle=null,t}(),n=function(){function t(){this.objPlayerScores={},this.objElement=$('<div class="scoreboard"></div>')}return t.objElement=null,t.objPlayerScores=null,t.prototype.resetScoreBoard=function(){var t,o,e;e=this.objPlayerScores;for(t in e)o=e[t],o.intScore=0;return this.changed()},t.prototype.changed=function(){var t,o,e;e=this.objPlayerScores;for(t in e)o=e[t],this.objElement.find(".score[data-player-id="+o.intId+"]").html(o.intScore);return this.objElement.css("opacity",1),setTimeout(function(){return i.objBoard.objScoreBoard.objElement.css("opacity",0)},1500)},t.prototype.addPoint=function(t){return this.objPlayerScores[t].intScore++,this.changed()},t}(),i={},$(document).ready(function(){var t,e;return t=new r({intId:1,strName:"Player 1",strPosition:"left"}),e=new r({intId:2,strName:"Player 2",strPosition:"right"}),i.objBoard=new o($(".js-board")),i.objBoard.addPlayer(t),i.objBoard.addPlayer(e),i.objBoard.addScoreBoard(new n),i.objBoard.startGame(),console.log(i.objBoard)})}(jQuery)}).call(this);
//# sourceMappingURL=./bootloader.js.map